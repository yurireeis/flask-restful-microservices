version: '2'

services:
    auth:
        build: ./auth
        container_name: auth.tdc
        restart: unless-stopped
        ports:
            - "81:81"
        volumes:
            - /home/yreis/projects/flask-restful-microservices/auth:/usr/src/app
        networks:
            - example_net

    db:
        image: mysql:8.0
        container_name: db.tdc
        restart: unless-stopped
        volumes:
            - "./mysql-data:/var/lib/mysql"
        environment:
            - MYSQL_ROOT_PASSWORD=tdc
        ports:
            - "3306:3306"
        networks:
            - example_net

networks:
    example_net:
        driver: bridge
        ipam:
            driver: default
            config:
            - subnet: 172.19.0.0/24
              gateway: 172.19.0.1
